(this.webpackJsonphexapod=this.webpackJsonphexapod||[]).push([[4],{10:function(e,t,a){"use strict";a.r(t);var n=a(40),r=a(0),i=a.n(r),l=a(30),o={front:400,side:750,middle:650,coxia:300,femur:850,tibia:1200},c={leftFront:{alpha:0,beta:0,gamma:0},rightFront:{alpha:0,beta:0,gamma:0},leftMiddle:{alpha:0,beta:0,gamma:0},rightMiddle:{alpha:0,beta:0,gamma:0},leftBack:{alpha:0,beta:0,gamma:0},rightBack:{alpha:0,beta:0,gamma:0}},s={alpha:0,beta:0,gamma:0},u={tx:0,ty:0,tz:0,rx:0,ry:0,rz:0,hipStance:0,legStance:0},m={tx:0,tz:0,rx:0,ry:0,legStance:0,hipStance:20,hipSwing:25,liftSwing:40,stepCount:5},d=[{name:"bodyMesh",showlegend:!0,type:"mesh3d",opacity:.3,color:"#ff6348",x:[100,100,-100,-100,-100,100,100],y:[0,100,100,0,-100,-100,0],z:[100,100,100,100,100,100,100]},{line:{color:"#FC427B",opacity:1,width:12},name:"bodyOutline",showlegend:!0,type:"scatter3d",x:[100,100,-100,-100,-100,100,100],y:[0,100,100,0,-100,-100,0],z:[100,100,100,100,100,100,100]},{marker:{color:"#FC427B",opacity:1,size:14},mode:"markers",name:"head",type:"scatter3d",x:[0],y:[100],z:[100]},{marker:{color:"#32ff7e",opacity:1,size:14},mode:"markers",name:"centerOfGravity",type:"scatter3d",x:[0],y:[0],z:[100]},{marker:{color:"#32ff7e",opacity:.5,size:7},mode:"markers",name:"centerOfGravityProjection",type:"scatter3d",x:[0],y:[0],z:[0]},{line:{color:"#EE5A24",width:10},name:"rightMiddleLeg",showlegend:!1,type:"scatter3d",x:[100,200,300,300],y:[0,0,0,0],z:[100,100,100,0]},{line:{color:"#EE5A24",width:10},name:"rightFrontLeg",showlegend:!1,type:"scatter3d",x:[100,170.71067811865476,241.4213562373095,241.4213562373095],y:[100,170.71067811865476,241.42135623730948,241.42135623730948],z:[100,100,100,0]},{line:{color:"#EE5A24",width:10},name:"leftFrontLeg",showlegend:!1,type:"scatter3d",x:[-100,-170.71067811865476,-241.42135623730948,-241.42135623730948],y:[100,170.71067811865476,241.4213562373095,241.4213562373095],z:[100,100,100,0]},{line:{color:"#EE5A24",width:10},name:"leftMiddleLeg",showlegend:!1,type:"scatter3d",x:[-100,-200,-300,-300],y:[0,12246467991473532e-30,24492935982947064e-30,24492935982947064e-30],z:[100,100,100,0]},{line:{color:"#EE5A24",width:10},name:"leftBackLeg",showlegend:!1,type:"scatter3d",x:[-100,-170.71067811865476,-241.42135623730954,-241.42135623730954],y:[-100,-170.71067811865476,-241.42135623730948,-241.42135623730948],z:[100,100,100,0]},{line:{color:"#EE5A24",width:10},name:"rightBackLeg",showlegend:!1,type:"scatter3d",x:[100,170.71067811865476,241.42135623730948,241.42135623730948],y:[-100,-170.71067811865476,-241.42135623730954,-241.42135623730954],z:[100,100,100,0]},{name:"supportPolygonMesh",showlegend:!1,type:"mesh3d",opacity:.2,color:"#3c6382",x:[300,241.4213562373095,-241.42135623730948,-300,-241.42135623730954,241.42135623730948],y:[0,241.42135623730948,241.4213562373095,24492935982947064e-30,-241.42135623730948,-241.42135623730954],z:[0,0,0,0,0,0]},{line:{color:"#2f3640",width:2},name:"hexapodXaxis",mode:"lines",showlegend:!1,opacity:1,type:"scatter3d",x:[0,50],y:[0,0],z:[100,100]},{line:{color:"#e67e22",width:2},name:"hexapodYaxis",mode:"lines",showlegend:!1,opacity:1,type:"scatter3d",x:[0,0],y:[0,50],z:[100,100]},{line:{color:"#0097e6",width:2},name:"hexapodZaxis",mode:"lines",showlegend:!1,opacity:1,type:"scatter3d",x:[0,0],y:[0,0],z:[100,150]},{line:{color:"#2f3640",width:2},name:"worldXaxis",showlegend:!1,mode:"lines",opacity:1,type:"scatter3d",x:[0,50],y:[0,0],z:[0,0]},{line:{color:"#e67e22",width:2},name:"worldYaxis",showlegend:!1,mode:"lines",opacity:1,type:"scatter3d",x:[0,0],y:[0,50],z:[0,0]},{line:{color:"#0097e6",width:2},name:"worldZaxis",showlegend:!1,mode:"lines",opacity:1,type:"scatter3d",x:[0,0],y:[0,0],z:[0,50]}],p={center:{x:.0005967195135552272,y:.11455181630825005,z:-.44957387699746415},eye:{x:.010119765679525836,y:.573601223004958,z:.04247372257492105},up:{x:.006592638138864914,y:3338632363222382e-20,z:.9999782677677168}},h={xaxis:{nticks:1,range:[-600,600],zerolinecolor:"#079992",showbackground:!1},yaxis:{nticks:1,range:[-600,600],zerolinecolor:"#079992",showbackground:!1},zaxis:{nticks:1,range:[-10,590],zerolinecolor:"#079992",showbackground:!0,backgroundcolor:"rgb(14, 40, 69)"},aspectmode:"manual",aspectratio:{x:1,y:1,z:1},camera:p},g={scene:h,margin:{b:20,l:10,r:10,t:20},paper_bgcolor:"rgb(23, 33, 43)",showlegend:!1,autosize:!0},f=a(63),b=a(65),y=a(64),E="Dimensions",v="Inverse Kinematics",x="Forward Kinematics",w="Leg Patterns",O="Root",j="Walking Gaits",k="/inverse-kinematics",S="/forward-kinematics",N="/leg-patterns",M="/",V="/walking-gaits",z=["alpha","beta","gamma"],P=["front","side","middle","coxia","femur","tibia"],C=["leftFront","rightFront","leftMiddle","rightMiddle","leftBack","rightBack"],F=["tx","ty","tz","rx","ry","rz","hipStance","legStance"],T=["hipSwing","liftSwing","legStance","hipStance","tx","tz","rx","ry","stepCount"],A=function(e){return{minVal:-e,maxVal:e,stepVal:1}},W={30:A(30),45:A(45),60:A(60),90:A(90),180:A(180)},I={minVal:-1,maxVal:1,stepVal:.1},G={dimensionInputs:{minVal:0,maxVal:1/0,stepVal:1},tx:I,ty:I,tz:I,rx:W[30],ry:W[30],rz:W[60],legStance:W[90],hipStance:W[60],alpha:W[30],beta:W[90],gamma:W[90]},D={tx:{minVal:-.25,maxVal:.25,stepVal:.1,defaultVal:0},tz:{minVal:-.5,maxVal:.5,stepVal:.1,defaultVal:0},rx:{minVal:-15,maxVal:15,stepVal:2.5,defaultVal:0},ry:{minVal:-15,maxVal:15,stepVal:2.5,defaultVal:0},legStance:{minVal:-50,maxVal:50,stepVal:1,defaultVal:0},hipStance:{minVal:0,maxVal:40,stepVal:1,defaultVal:20},hipSwing:{minVal:10,maxVal:40,stepVal:1,defaultVal:25},liftSwing:{minVal:10,maxVal:70,stepVal:1,defaultVal:40},stepCount:{minVal:3,maxVal:7,stepVal:1,defaultVal:5}},R={mug:i.a.createElement(f.a,{className:"vertical-align"}),circle:i.a.createElement(y.a,{className:"small-icon"}),octocat:i.a.createElement(b.a,{className:"vertical-align"}),times:i.a.createElement(b.c,{className:"vertical-align"}),home:i.a.createElement(b.b,{className:"vertical-align"})},U={inverseKinematics:{path:k,description:v,icon:R.circle},forwardKinematics:{path:S,description:x,icon:R.circle},legPatterns:{path:N,description:w,icon:R.circle},landingPage:{path:M,description:O,icon:R.home},walkingGaits:{path:V,description:j,icon:R.circle}},B=[U.inverseKinematics,U.forwardKinematics,U.legPatterns,U.walkingGaits,U.landingPage],L=[{name:"KOFI",icon:R.mug,description:"Buy Mithi Ko-Fi \ud83c\udf75",url:"https://ko-fi.com/minimithi"},{name:"REPO",icon:R.octocat,description:"Source Code",url:"https://github.com/mithi/hexapod-irl"}],_=function(e){var t=e.link,a=e.showDesc;return i.a.createElement("li",null,i.a.createElement(l.b,{to:t.path,className:"link-icon"},i.a.createElement("span",null,t.icon," ",a?t.description:null)))},K=function(e){var t=e.path,a=e.description,n=e.icon;return i.a.createElement("li",null,i.a.createElement("a",{href:t,className:"link-icon",target:"_blank",rel:"noopener noreferrer",children:i.a.createElement("span",null,n," ",a)}))},q=function(){return i.a.createElement("ul",{id:"top-bar"},L.map((function(e){return i.a.createElement(K,{path:e.url,key:"navBullet"+e.url,icon:e.icon})})),B.map((function(e){return i.a.createElement(_,{key:"navBullet"+e.path,link:e})})))},H=function(){return i.a.createElement("footer",null,i.a.createElement("nav",{id:"nav"},i.a.createElement("ul",{className:"grid-cols-1 no-bullet"},L.map((function(e){return i.a.createElement(K,{path:e.url,key:"navDetailed"+e.url,icon:e.icon,description:e.description})})),B.map((function(e){return i.a.createElement(_,{key:"navDetailed"+e.path,link:e,showDesc:!0})})))))},Y=function(){return i.a.createElement(q,null)},J=a(12),X=a(13),Z=a(19),Q=a(18),$=a(72),ee=a.n($),te=a(109),ae=a(20),ne=function(e,t){var a=function(e){var t=e.body.closedPointsList,a=t.map((function(e){return e.x})),n=t.map((function(e){return e.y})),r=t.map((function(e){return e.z})),i=e.body,l=i.head,o=i.cog,c=e.cogProjection,s=e.legs,u=e.groundContactPoints,m=Object(ae.a)(Object(ae.a)({},d[0]),{},{x:a,y:n,z:r}),p=Object(ae.a)(Object(ae.a)({},d[1]),{},{x:a,y:n,z:r}),h=Object(ae.a)(Object(ae.a)({},d[2]),{},{x:[l.x],y:[l.y],z:[l.z]}),g=Object(ae.a)(Object(ae.a)({},d[3]),{},{x:[o.x],y:[o.y],z:[o.z]}),f=Object(ae.a)(Object(ae.a)({},d[4]),{},{x:[c.x],y:[c.y],z:[c.z]}),b=s.map((function(e,t){return Object(ae.a)(Object(ae.a)({},d[t+5]),{},{x:e.allPointsList.map((function(e){return e.x})),y:e.allPointsList.map((function(e){return e.y})),z:e.allPointsList.map((function(e){return e.z}))})})),y=Object(ae.a)(Object(ae.a)({},d[11]),{},{x:u.map((function(e){return e.x})),y:u.map((function(e){return e.y})),z:u.map((function(e){return e.z}))}),E=e.body.dimensions.front/2,v=e.localAxes,x=v.xAxis,w=v.yAxis,O=v.zAxis,j=Object(ae.a)(Object(ae.a)({},d[12]),{},{x:[o.x,o.x+E*x.x],y:[o.y,o.y+E*x.y],z:[o.z,o.z+E*x.z]}),k=Object(ae.a)(Object(ae.a)({},d[13]),{},{x:[o.x,o.x+E*w.x],y:[o.y,o.y+E*w.y],z:[o.z,o.z+E*w.z]}),S=Object(ae.a)(Object(ae.a)({},d[14]),{},{x:[o.x,o.x+E*O.x],y:[o.y,o.y+E*O.y],z:[o.z,o.z+E*O.z]}),N=Object(ae.a)(Object(ae.a)({},d[15]),{},{x:[0,E]}),M=Object(ae.a)(Object(ae.a)({},d[16]),{},{y:[0,E]}),V=Object(ae.a)(Object(ae.a)({},d[17]),{},{z:[0,E]});return[m,p,h,g,f].concat(Object(te.a)(b),[y,j,k,S,N,M,V])}(e);[null,void 0,{}].includes(t)&&(t=p);var n,r=(n=e.dimensions,Object.values(n).reduce((function(e,t){return e+t}),0)),i=[-r,r],l=Object(ae.a)(Object(ae.a)({},h.xaxis),{},{range:i}),o=Object(ae.a)(Object(ae.a)({},h.yaxis),{},{range:i}),c=Object(ae.a)(Object(ae.a)({},h.zaxis),{},{range:[-10,2*r-10]}),s=Object(ae.a)(Object(ae.a)({},h),{},{xaxis:l,yaxis:o,zaxis:c,camera:t});return[a,Object(ae.a)(Object(ae.a)({},g),{},{scene:s})]},re=function(e){Object(Z.a)(r,e);var t=Object(Q.a)(r);function r(){var e;Object(J.a)(this,r);for(var a=arguments.length,n=new Array(a),i=0;i<a;i++)n[i]=arguments[i];return(e=t.call.apply(t,[this].concat(n))).cameraView=p,e.state={ready:!1},e.Plot=null,e.logCameraView=function(t){e.cameraView=t["scene.camera"]},e}return Object(X.a)(r,[{key:"componentDidMount",value:function(){var e=this;a.e(5).then(a.t.bind(null,110,7)).then((function(t){e.Plot=ee()(t),e.setState({ready:!0})}))}},{key:"render",value:function(){if(!this.state.ready)return i.a.createElement("p",null,"Loading your cute robot...");if(!this.props.hexapod)return null;var e=ne(this.props.hexapod,this.cameraView),t=Object(n.a)(e,2),a={data:t[0],layout:t[1],onRelayout:this.logCameraView,revision:this.props.revision,config:{displaylogo:!1,responsive:!0},style:{height:"100%",width:"100%"},useResizeHandler:!0},r=this.Plot;return i.a.createElement(r,a)}}]),r}(i.a.Component),ie=a(21),le=function(e){Object(Z.a)(a,e);var t=Object(Q.a)(a);function a(e){var n;return Object(J.a)(this,a),(n=t.call(this,e)).state={message:null},n.myRef=i.a.createRef(),n}return Object(X.a)(a,[{key:"componentDidMount",value:function(){this.setState({message:null})}},{key:"handleChange",value:function(e){var t=this.props.rangeParams,a=t.minVal,n=t.maxVal,r=t.stepVal,i=this.myRef.current.validity;if(i.badInput)this.setState({message:"NaN"});else if(i.rangeOverflow)this.setState({message:"max=".concat(n)});else if(i.rangeUnderflow)this.setState({message:"min=".concat(a)});else if(i.stepMismatch)this.setState({message:"step=".concat(r)});else if(this.myRef.current.checkValidity()){var l=parseFloat(e);isNaN(l)?this.setState({message:"NaN"}):(this.setState({message:null}),this.props.handleChange(this.props.name,l))}else this.setState({message:"Error"})}},{key:"render",value:function(){var e=this,t=this.props,a=t.name,n=t.rangeParams,r=t.id,l=t.value,o=r||a,c=n.minVal,s=n.maxVal,u=n.stepVal,m={type:"number",input:"numeric",id:o,ref:this.myRef,value:l,min:c,max:s,step:u,style:{margin:0}};return i.a.createElement("div",null,i.a.createElement("label",{htmlFor:o,className:"label"},a),i.a.createElement("input",Object.assign({},m,{onChange:function(t){return e.handleChange(t.target.value)}})),i.a.createElement("label",{className:"label red",style:{opacity:1}},this.state.message))}}]),a}(r.Component),oe=function(e){var t=e.info;return i.a.createElement("div",{className:"message"},i.a.createElement("h2",{className:"red"},R.times," ",t.subject),i.a.createElement("p",null,t.body))},ce=function(e){var t=e.id,a=e.value,n=e.handleChange,r=e.showValue;return i.a.createElement("div",{className:"switch-container"},i.a.createElement("label",{className:"switch"},i.a.createElement("input",{id:t,type:"checkbox",value:a,onChange:n}),i.a.createElement("span",{className:"toggle-switch-widget round"}),i.a.createElement("span",{style:{opacity:0}},a)),i.a.createElement("label",{className:"label"},r?a:null))},se=function(e){var t=e.title,a=e.other,n=e.children;return i.a.createElement("div",null,i.a.createElement("div",{className:"card-header"},t,a),n)},ue=function(e){var t=e.handleClick,a=e.children;return i.a.createElement("button",{type:"button",className:"button",onClick:t},a)},me=function(e){var t=e.reset;return i.a.createElement(ue,{handleClick:t},"reset")},de=function(e){Object(Z.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).sectionName=E,e.state={isFine:!0},e.reset=function(){return e.props.onUpdate("dimensions",{dimensions:o})},e.toggleMode=function(){return e.setState({isFine:!e.state.isFine})},e.updateFieldState=function(t,a){return e.updateDimensions(t,a)},e.updateDimensions=function(t,a){var n=Object(ae.a)(Object(ae.a)({},e.props.params.dimensions),{},Object(ie.a)({},t,a));e.props.onUpdate("dimensions",{dimensions:n})},e.render=function(){return i.a.createElement(se,{title:i.a.createElement("h2",null,e.sectionName),other:e.toggleSwitch},e.NumberInputFields,i.a.createElement(me,{reset:e.reset}))},e}return Object(X.a)(a,[{key:"toggleSwitch",get:function(){var e={id:"DimensionsWidgetSwitch",value:this.state.isFine?"1x":"5x",handleChange:this.toggleMode,showValue:!0};return i.a.createElement(ce,e)}},{key:"NumberInputFields",get:function(){var e=this,t=G.dimensionInputs,a=t.minVal,n=t.maxVal,r=this.state.isFine?1:5,l=this.props.params.dimensions,o=P.map((function(t){var o={name:t,value:l[t],rangeParams:{minVal:a,maxVal:n,stepVal:r},handleChange:e.updateFieldState};return i.a.createElement(le,Object.assign({},o,{key:t}))}));return i.a.createElement("div",{className:"grid-cols-6"},o)}}]),a}(r.Component),pe=a(11),he=a(26),ge=function(e){var t=e.name,a=e.id,n=e.value,r=e.rangeParams,l=e.handleChange;return i.a.createElement("div",{className:"slider-container"},i.a.createElement("div",{className:"label"},i.a.createElement("label",{htmlFor:a||t},t),": ",i.a.createElement("span",null,n)),i.a.createElement("input",{type:"range",id:a||t,min:r.minVal,max:r.maxVal,step:r.stepVal,value:n,onChange:function(e){return l(t,e.target.value)},className:"slider"}))},fe=function(e){var t=e.names,a=e.values,n=e.handleChange,r=e.rangeParams;return t.map((function(e){return i.a.createElement(ge,{key:e,name:e,rangeParams:r?r[e]:G[e],handleChange:n,value:a[e]})}))},be=function(e){Object(Z.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).updateFieldState=function(t,a){var n=Number(a);isNaN(n)||e.props.onUpdate(e.props.name,t,n)},e.fields=function(t){return z.map((function(a){var n="".concat(e.props.name,"-").concat(a),r={id:n,name:a,key:n,value:e.props.pose[a],rangeParams:G[a],handleChange:e.updateFieldState};return i.a.createElement(t,r)}))},e.render=function(){return i.a.createElement(se,{title:i.a.createElement("h3",null,e.props.name)},i.a.createElement("div",{className:e.props.renderStacked?"grid-cols-1":"grid-cols-3"},e.fields(e.props.WidgetType)))},e}return Object(X.a)(a)}(r.Component),ye=function(e){Object(Z.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).pageName=x,e.state={WidgetType:le},e.componentDidMount=function(){return e.props.onMount(e.pageName)},e.reset=function(){return e.props.onUpdate("pose",{pose:c})},e.updatePose=function(t,a,n){var r=e.props.params.pose,i=Object(ae.a)(Object(ae.a)({},r),{},Object(ie.a)({},t,Object(ae.a)(Object(ae.a)({},r[t]),{},Object(ie.a)({},a,n))));e.props.onUpdate("pose",{pose:i})},e.toggleMode=function(){var t=e.state.WidgetType===ge?le:ge;e.setState({WidgetType:t})},e.legPoseWidget=function(t){return i.a.createElement(be,{key:t,name:t,pose:e.props.params.pose[t],onUpdate:e.updatePose,WidgetType:e.state.WidgetType,renderStacked:e.state.WidgetType===ge})},e.render=function(){return i.a.createElement(se,{title:i.a.createElement("h2",null,e.pageName),other:e.toggleSwitch},i.a.createElement("div",{className:"grid-cols-2"},C.map((function(t){return e.legPoseWidget(t)}))),i.a.createElement(me,{reset:e.reset}))},e}return Object(X.a)(a,[{key:"toggleSwitch",get:function(){var e={id:"FwdKinematicsSwitch",value:this.state.WidgetType===ge?"Slide":"Input",handleChange:this.toggleMode,showValue:!0};return i.a.createElement(ce,e)}}]),a}(r.Component),Ee={rightMiddle:"rm",rightFront:"rf",leftFront:"lf",leftMiddle:"lm",leftBack:"lb",rightBack:"rb"},ve=function(e){var t=e.rm,a=e.rf,n=e.lf,r=e.lm,l=e.lb,o=e.rb;return i.a.createElement("table",null,i.a.createElement("thead",null,i.a.createElement("tr",null,i.a.createElement("th",null,"POSITION"),i.a.createElement("th",null,"ALPHA"),i.a.createElement("th",null,"BETA"),i.a.createElement("th",null,"GAMMA"))),i.a.createElement("tbody",null,i.a.createElement(xe,{label:"rightMiddle",leg:t}),i.a.createElement(xe,{label:"rightFront",leg:a}),i.a.createElement(xe,{label:"leftFront",leg:n}),i.a.createElement(xe,{label:"leftMiddle",leg:r}),i.a.createElement(xe,{label:"leftBack",leg:l}),i.a.createElement(xe,{label:"rightBack",leg:o})))},xe=function(e){var t=e.label,a=e.leg;return i.a.createElement("tr",null,i.a.createElement("td",null,t),i.a.createElement("td",null,a.alpha),i.a.createElement("td",null,a.beta),i.a.createElement("td",null,a.gamma))},we=function(e){var t=function(e){return he.a.reduce((function(t,a){var n=Ee[a],r=e[a],i=r.alpha,l=r.beta,o=r.gamma;return t[n]={alpha:Number(i).toFixed(2),beta:Number(l).toFixed(2),gamma:Number(o).toFixed(2)},t}),{})}(e.pose);return i.a.createElement("div",{className:"table-container"},i.a.createElement(ve,t))},Oe=function(e){Object(Z.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).pageName=v,e.state={ikParams:u,errorMessage:null},e.componentDidMount=function(){return e.props.onMount(e.pageName)},e.reset=function(){var t=Object(he.d)(e.props.params.dimensions,u);e.updateHexapodPlot(t.hexapod,u)},e.updateHexapodPlot=function(t,a){e.setState({ikParams:a,errorMessage:null}),e.props.onUpdate("hexapod",{hexapod:t})},e.updateIkParams=function(t,a){var n=Object(ae.a)(Object(ae.a)({},e.state.ikParams),{},Object(ie.a)({},t,a)),r=Object(he.d)(e.props.params.dimensions,n);if(!r.obtainedSolution)return e.props.onUpdate("hexapod",{hexapod:null}),void e.setState({errorMessage:r.message});e.updateHexapodPlot(r.hexapod,n)},e.render=function(){return i.a.createElement(se,{title:i.a.createElement("h2",null,e.pageName)},i.a.createElement("div",{className:"grid-cols-3"},e.sliders.slice(0,6)),i.a.createElement("div",{className:"grid-cols-2"},e.sliders.slice(6,8)),i.a.createElement(me,{reset:e.reset}),e.additionalInfo)},e}return Object(X.a)(a,[{key:"sliders",get:function(){return fe({names:F,values:this.state.ikParams,handleChange:this.updateIkParams})}},{key:"additionalInfo",get:function(){return this.state.errorMessage?i.a.createElement(oe,{info:this.state.errorMessage}):i.a.createElement(we,{pose:this.props.params.pose})}}]),a}(r.Component),je=i.a.lazy((function(){return a.e(6).then(a.bind(null,111))})),ke=function(){return i.a.createElement("div",{style:{height:"80px"}},i.a.createElement(r.Suspense,{fallback:i.a.createElement("p",null,"A cute random robot will soon appear!")},i.a.createElement(je,null)))},Se=function(e){Object(Z.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).pageName=O,e.componentDidMount=function(){return e.props.onMount(e.pageName)},e.render=function(){return i.a.createElement(i.a.Fragment,null,i.a.createElement("div",{id:"landing"},i.a.createElement(ke,null)))},e}return Object(X.a)(a)}(i.a.Component),Ne=function(e){Object(Z.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),l=0;l<n;l++)r[l]=arguments[l];return(e=t.call.apply(t,[this].concat(r))).pageName=w,e.state={patternParams:s},e.componentDidMount=function(){e.props.onMount(e.pageName),e.reset()},e.reset=function(){e.props.onUpdate("pose",{pose:c}),e.setState({patternParams:s})},e.updatePatternPose=function(t,a){var n=Object(ae.a)(Object(ae.a)({},e.state.patternParams),{},Object(ie.a)({},t,Number(a))),r={};for(var i in c)r[i]=n;e.props.onUpdate("pose",{pose:r}),e.setState({patternParams:n})},e.render=function(){return i.a.createElement(se,{title:i.a.createElement("h2",null,e.pageName)},i.a.createElement("div",{className:"grid-cols-1"},e.sliders),i.a.createElement(me,{reset:e.reset}))},e}return Object(X.a)(a,[{key:"sliders",get:function(){return fe({names:z,values:this.state.patternParams,handleChange:this.updatePatternPose})}}]),a}(r.Component),Me=function(e,t){return Object.keys(e).reduce((function(a,n){var r=e[n],i=r.alpha,l=r.beta,o=r.gamma;return a[n]={alpha:i[t],beta:l[t],gamma:o[t]},a}),{})},Ve=function(e,t,a){return i.a.createElement(ce,{id:e,handleChange:a,value:t,showValue:!0})},ze=function(e,t,a){return i.a.createElement("div",{className:"grid-cols-3",style:{paddingBottom:"20px"}},e,t,a)},Pe=function(e){return e.leftMiddle.alpha.length},Ce=function(e){Object(Z.a)(a,e);var t=Object(Q.a)(a);function a(){var e;Object(J.a)(this,a);for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];return(e=t.call.apply(t,[this].concat(r))).pageName=j,e.currentTwist=0,e.walkSequence=null,e.state={gaitParams:m,isAnimating:!1,isTripodGait:!0,isForward:!0,inWalkMode:!0,showGaitWidgets:!0,animationCount:0},e.componentDidMount=function(){e.props.onMount(e.pageName);var t=e.state,a=t.isTripodGait,n=t.inWalkMode;e.setWalkSequence(m,a,n)},e.componentWillUnmount=function(){clearInterval(e.intervalID)},e.animate=function(){var t=e.state,a=t.isForward,n=t.inWalkMode,r=Pe(e.walkSequence),i=(e.state.animationCount+1)%r;e.setState({animationCount:i});var l=a?i:r-i,o=Math.max(0,Math.min(r-1,l)),c=Me(e.walkSequence,o);if(n)e.onUpdate(c,e.currentTwist);else{var s=2*e.state.gaitParams.hipSwing/r,u=a?(e.currentTwist+s)%360:(e.currentTwist-s)%360;e.onUpdate(c,u)}},e.onUpdate=function(t,a){e.currentTwist=a;var n=e.props.params.dimensions,r=new he.b(n,t,{wontRotate:!0});if(r&&r.body){var i=Object(he.e)(a);e.props.onUpdate("hexapod",{hexapod:r.cloneTrot(i)})}},e.setWalkSequence=function(t,a,n){var r=a?"tripod":"ripple",i=n?"walking":"rotating",l=e.props.params.dimensions,o=e.state.animationCount;e.walkSequence=Object(he.c)(l,t,r,i)||e.walkSequence;var c=Me(e.walkSequence,o);e.onUpdate(c,e.currentTwist),e.setState({gaitParams:t,isTripodGait:a,inWalkMode:n})},e.reset=function(){var t=e.state,a=t.isTripodGait,n=t.inWalkMode;e.currentTwist=0,e.setWalkSequence(m,a,n)},e.updateGaitParams=function(t,a){var n=e.state,r=n.isTripodGait,i=n.inWalkMode,l=Object(ae.a)(Object(ae.a)({},e.state.gaitParams),{},Object(ie.a)({},t,a));e.setWalkSequence(l,r,i)},e.toggleWalkMode=function(){var t=e.state,a=t.gaitParams,n=t.isTripodGait,r=!e.state.inWalkMode;e.setWalkSequence(a,n,r)},e.toggleGaitType=function(){var t=e.state,a=t.gaitParams,n=t.inWalkMode,r=!e.state.isTripodGait;e.setWalkSequence(a,r,n)},e.toggleWidgets=function(){return e.setState({showGaitWidgets:!e.state.showGaitWidgets})},e.toggleDirection=function(){return e.setState({isForward:!e.state.isForward})},e.toggleAnimating=function(){var t=!e.state.isAnimating;e.setState({isAnimating:t}),t?e.intervalID=setInterval(e.animate,25):clearInterval(e.intervalID)},e}return Object(X.a)(a,[{key:"widgetsSwitch",get:function(){var e=this.state.showGaitWidgets?"controlsShown":"poseShown";return Ve("widgetSw",e,this.toggleWidgets)}},{key:"animatingSwitch",get:function(){var e=this.state.isAnimating?"PLAYING...":"...PAUSED. ";return Ve("animatingSw",e,this.toggleAnimating)}},{key:"gaitTypeSwitch",get:function(){var e=this.state.isTripodGait?"tripodGait":"rippleGait";return Ve("gaitSw",e,this.toggleGaitType)}},{key:"directionSwitch",get:function(){var e=this.state.isForward?"isForward":"isBackward";return Ve("directionSw",e,this.toggleDirection)}},{key:"rotateSwitch",get:function(){var e=this.state.inWalkMode?"isWalk":"isRotate";return Ve("rotateSw",e,this.toggleWalkMode)}},{key:"sliders",get:function(){var e=fe({names:T,values:this.state.gaitParams,rangeParams:D,handleChange:this.updateGaitParams});return i.a.createElement("div",{className:"grid-cols-2"},e)}},{key:"animationCount",get:function(){var e=this.state,t=e.isAnimating,a=e.animationCount;return i.a.createElement("div",{className:"text",hidden:!t},a)}},{key:"render",value:function(){var e=ze(this.animatingSwitch,this.widgetsSwitch),t=ze(this.gaitTypeSwitch,this.directionSwitch,this.rotateSwitch),a=this.state.showGaitWidgets,n=this.props.params.pose;return i.a.createElement(se,{title:i.a.createElement("h2",null,this.pageName),other:this.animationCount},e,i.a.createElement("div",{hidden:!a},t,this.sliders,i.a.createElement(me,{reset:this.reset})),i.a.createElement("div",{hidden:a},i.a.createElement(we,{pose:n})))}}]),a}(r.Component),Fe=function(e){var t=e.pageComponent;return i.a.createElement(pe.d,null,i.a.createElement(pe.b,{path:"/",exact:!0},t(Se)),i.a.createElement(pe.b,{path:U.legPatterns.path,exact:!0},t(Ne)),i.a.createElement(pe.b,{path:U.forwardKinematics.path,exact:!0},t(ye)),i.a.createElement(pe.b,{path:U.inverseKinematics.path,exact:!0},t(Oe)),i.a.createElement(pe.b,{path:U.walkingGaits.path,exact:!0},t(Ce)),i.a.createElement(pe.b,null,i.a.createElement(pe.a,{to:"/"})))},Te=function(e,t,a){if("default"===e)return new he.b(o,c);var n=null,r=a.pose,i=a.dimensions;return"pose"===e&&(n=new he.b(i,t.pose)),"dimensions"===e&&(n=new he.b(t.dimensions,r)),"hexapod"===e&&(n=t.hexapod),n&&n.foundSolution?n:a},Ae=a(73),We=a.n(Ae),Ie=a(107),Ge=["leftFront","rightFront","leftMiddle","rightMiddle","leftBack","rightBack"],De=["leftFront","leftMiddle","leftBack"],Re=function(e,t){var a=t?-1*e:e;return Math.max(Math.min(Math.round(a)+90,180),0)},Ue=function(e){for(var t={},a=0,n=Ge;a<n.length;a++){var r=n[a],i=e[r],l=i.alpha,o=i.beta,c=i.gamma,s=De.includes(r);t[r]={alpha:Re(l,!0),beta:Re(o,s),gamma:Re(c,!s)}}return t},Be=function(){var e=Object(r.useRef)(),t=Object(r.useState)((function(){return new Date})),a=Object(n.a)(t,2),i=a[0],l=a[1],o=Object(r.useState)(0),c=Object(n.a)(o,2),s=c[0],u=c[1];return Object(r.useEffect)((function(){return e.current=We()(Ie.SOCKET_SERVER_URL),function(){return e.current.disconnect()}}),[]),[Object(r.useCallback)((function(t){var a=new Date,n=a-i;n<Ie.MINIMUM_TIME_BETWEEN_MESSAGES?console.log("too soon: ",n):(console.log("just right: ",n),e.current.emit(Ie.CHANNEL_NAME,{pose:Ue(t),sender:Ie.CLIENT_SENDER_NAME,time:a.getTime()}),l(a),u(n))}),[i]),s]};t.default=function(){var e=Object(r.useState)(O),t=Object(n.a)(e,2),a=t[0],o=t[1],s=Object(r.useState)((function(){return Te("default")})),u=Object(n.a)(s,2),m=u[0],d=u[1],p=Object(r.useState)(0),h=Object(n.a)(p,2),g=h[0],f=h[1],b=a!==O,y=Be(),E=Object(n.a)(y,2),v=E[0],x=E[1];Object(r.useEffect)((function(){return v(m.pose)}),[m,v]);var w=Object(r.useCallback)((function(e,t){f((function(e){return e+1})),d((function(a){return Te(e,t,a)}))}),[]);Object(r.useEffect)((function(){document.title=a+" - Mithi's Bare Minimum Hexapod Robot Simulator",w("pose",{pose:c})}),[a,w]);var j=Object(r.useCallback)((function(e){return i.a.createElement(e,{onMount:function(e){return o(e)},onUpdate:w,params:{dimensions:m.dimensions,pose:m.pose}})}),[w,m]);return i.a.createElement(l.a,null,i.a.createElement(Y,null),i.a.createElement("div",{id:"main"},i.a.createElement("div",{id:"sidebar"},i.a.createElement("div",{hidden:!b},i.a.createElement(de,{params:{dimensions:m.dimensions},onUpdate:w})),i.a.createElement(Fe,{pageComponent:j}),i.a.createElement("p",null," deltaDate: ",x," "),b?null:i.a.createElement(H,null)),i.a.createElement("div",{id:"plot",className:"border",hidden:!b},i.a.createElement(re,{revision:g,hexapod:m}))),b?i.a.createElement(H,null):null)}},107:function(e,t){var a="http://127.0.0.1:".concat(4001);e.exports={SOCKET_CLIENT_URLS:["http://localhost:5000","http://192.168.254.105:5000"],SOCKET_SERVER_PORT:4001,SOCKET_SERVER_URL:a,MINIMUM_TIME_BETWEEN_MESSAGES:20,CLIENT_SENDER_NAME:"react-app",CHANNEL_NAME:"setServo"}}}]);
//# sourceMappingURL=4.42a60e5b.chunk.js.map